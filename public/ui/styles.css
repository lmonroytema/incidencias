/* Modern UI styles (dark theme) for Incidencias UI */
:root { --bg:#0c0c0f; --panel:#141419; --text:#e6e6ea; --muted:#a9a9b8; --primary:#7c3aed; --primary-2:#22d3ee; --danger:#ef4444; --ok:#10b981; --border:#262630; }
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  color:var(--text);
  font:14px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji";
  /* Fondo: imagen + overlay teal, fijo y a pantalla completa */
  background-color:var(--bg);
  background-image: linear-gradient(rgba(11,120,132,.55), rgba(11,120,132,.55)), url('/ui/img/app-bg.jpg');
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
}
.container{max-width:1100px;margin:0 auto;padding:24px}
.nav{display:flex;gap:10px;align-items:center;margin-bottom:18px}
.nav a{color:var(--text);text-decoration:none;padding:8px 12px;border:1px solid var(--border);border-radius:8px;background:linear-gradient(180deg,#191922,#12121a)}
.nav a:hover{border-color:#33334a;transform:translateY(-1px)}
.card{background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:18px;margin-bottom:18px;box-shadow:0 10px 20px rgba(0,0,0,.35)}
.title{font-size:18px;margin:0 0 12px}
.tabs{display:flex;gap:8px;margin:6px 0 14px}
.tab{padding:8px 12px;border:1px solid var(--border);border-radius:999px;background:linear-gradient(180deg,#1f2430,#141824);color:#e6e6ea;cursor:pointer}
.tab.active{background:linear-gradient(180deg,#5b21b6,#3b0764);border-color:#3b0764}
.tab:disabled{opacity:.5;cursor:not-allowed;pointer-events:none}
.pane.hidden{display:none}
.row{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
.row-3{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
label{display:block;font-weight:600;margin-bottom:6px;color:var(--muted)}
input, select, textarea{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#0f0f14;color:var(--text)}
textarea{min-height:100px}
.readonly{opacity:.8;pointer-events:none}

/* Buttons */
.btn{padding:8px 12px;border:1px solid var(--border);border-radius:10px;background:linear-gradient(180deg,#191922,#12121a);color:var(--text);cursor:pointer}
.btn:hover{border-color:#33334a;transform:translateY(-.5px)}
.btn.secondary{background:linear-gradient(180deg,#1f2430,#141824)}
.btn.success{background:linear-gradient(180deg,#065f46,#064e3b);border-color:#064e3b}
.btn.danger{background:linear-gradient(180deg,#7f1d1d,#450a0a);border-color:#450a0a}

/* Modal */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;z-index:1000}
.modal.hidden{display:none}
.modal-dialog{background:var(--panel);border:1px solid var(--border);border-radius:14px;max-width:520px;width:95%;padding:18px;box-shadow:0 20px 40px rgba(0,0,0,.6)}
.modal-title{margin:0 0 8px;font-size:16px}
.modal-text{color:var(--text);margin:8px 0 12px}
.modal-actions{display:flex;justify-content:flex-end;gap:10px}
.btn{display:inline-flex;gap:8px;align-items:center;padding:10px 14px;border-radius:10px;border:1px solid var(--border);cursor:pointer;color:#fff;background:linear-gradient(180deg,#5b21b6,#3b0764)}
.btn:hover{filter:brightness(1.08)}
.btn.secondary{background:linear-gradient(180deg,#1f2937,#0b1020)}
.btn.success{background:linear-gradient(180deg,#0f766e,#064e3b)}
.btn.danger{background:linear-gradient(180deg,#b91c1c,#7f1d1d)}
.flex{display:flex;gap:10px;align-items:center}
.table{width:100%;border-collapse:collapse}
.table th,.table td{border-bottom:1px solid var(--border);padding:10px;text-align:left}
.table th{color:#c9c9d7;font-weight:700;background:#0f0f14;position:sticky;top:0}
.img-thumb{width:48px;height:48px;object-fit:cover;border-radius:8px;border:1px solid var(--border);background:#0f0f14}
.badge{display:inline-block;padding:6px 8px;border-radius:999px;border:1px solid var(--border);font-weight:600}
.badge.warning{background:#2b2835;color:#facc15}
.badge.danger{background:#33212b;color:#fecaca}
.badge.ok{background:#17322c;color:#a7f3d0}
.muted{color:var(--muted)}
.input-inline{display:flex;gap:8px}
.visually-hidden-file{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}
#btnAttachLabel{min-width:160px}
#btnInlineViewImage{min-width:140px}
.footer{margin-top:18px;color:var(--muted)}
.toast{position:fixed;bottom:20px;right:20px;background:#11111a;color:#fff;padding:10px 12px;border:1px solid var(--border);border-radius:10px;box-shadow:0 10px 20px rgba(0,0,0,.4)}

/* Password visibility toggle */
.password-field{position:relative}
.password-field input{padding-right:40px}
.password-toggle{position:absolute;right:10px;top:50%;transform:translateY(-50%);background:transparent;border:0;color:var(--muted);cursor:pointer;font-size:16px;line-height:1}
.password-toggle:hover{color:var(--text)}

/* Image modal should fit content (image) while respecting viewport */
#imageModal .modal-dialog{width:fit-content;max-width:95vw;padding:12px}
#imageModal .modal-text{margin:0}